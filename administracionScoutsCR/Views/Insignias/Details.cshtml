@model administracionScoutsCR.Models.Insignia

@{
    ViewData["Title"] = "Detalles de Insignia";
}

<style>
    .card-header {
        background-color: #fff !important;
        color: #212529;
        border-bottom: 1px solid #dee2e6;
        border-top-left-radius: 1rem;
        border-top-right-radius: 1rem;
    }

    .card {
        border-radius: 1rem !important;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
    }

    .insignia-details h4 {
        font-size: 1rem;
        font-weight: bold;
        margin-bottom: 0.2rem;
    }

    .insignia-details h6 {
        color: #555;
        font-size: 1rem;
    }

    .insignia-image h4 {
        margin-top: 1rem;
        font-weight: bold;
    }
</style>

<div class="content">
    <div class="page-header">
        <div class="page-title">
            <h4>Detalles de la Insignia</h4>
            <h6>Informaci贸n completa de la insignia</h6>
        </div>
    </div>

    <!-- Detalles -->
    <!-- Detalles de la Insignia + Botones -->
    <div class="row">
        <div class="col-lg-8 col-sm-12">
            <div class="card">
                <div class="card-header">
                    <h4>Detalles de la Insignia</h4>
                    <h6>Informaci贸n completa de la insignia</h6>
                </div>
                <div class="card-body">
                    <div class="insignia-details">
                        <ul class="event-bar">
                            <li>
                                <h4> Nombre</h4>
                                <h6>&bull; @Html.DisplayFor(model => model.Nombre)</h6>
                            </li>
                            <li>
                                <h4>Secci贸n</h4>
                                <h6>&bull; @Html.DisplayFor(model => model.Seccion)</h6>
                            </li>
                            <li>
                                <h4>Tipo</h4>
                                <h6>&bull; @Html.DisplayFor(model => model.Tipo)</h6>
                            </li>
                            <li>
                                <h4>Estado</h4>
                                <h6>&bull; @Html.DisplayFor(model => model.Estado)</h6>
                            </li>
                        </ul>
                    </div>

                    <div class="text-center mt-4">
                        <a asp-controller="UsuarioInsignia" asp-action="Asignar" asp-route-idInsignia="@Model.IdInsignia" class="btn btn-outline-primary me-2">
                            <i data-feather="user-plus" class="me-2"></i>Asignar a Usuario
                        </a>
                        <a asp-action="Edit" asp-route-id="@Model?.IdInsignia" class="btn btn-warning me-2">Editar</a>
                        <a asp-action="Index" class="btn btn-secondary">Volver a la Lista</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Imagen -->
        <div class="col-lg-4 col-sm-12">
            <div class="text-center">
                <img src="@(string.IsNullOrEmpty(Model.ImagenRuta) ? Url.Content("~/uploads/insignias/insignias_default.jpg") : Url.Content(Model.ImagenRuta))"
                     alt="Imagen de la Insignia"
                     class="img-fluid rounded mb-2"
                     style="max-height: 300px; object-fit: contain;" />
                <h5>Imagen de la Insignia</h5>
            </div>
        </div>
    </div>


    <!-- Requisitos -->
    <div class="row mt-4">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-header">
                    <h5>Requisitos para Obtener esta Insignia</h5>
                </div>
                <div class="card-body">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th>Descripci贸n</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            @if (Model.ReqInsignia != null && Model.ReqInsignia.Any())
                            {
                                @foreach (var req in Model.ReqInsignia)
                                {
                                    <tr>
                                        <td>@req.Descripcion</td>
                                        <td>
                                            <a asp-controller="ReqInsignias" asp-action="Edit" asp-route-id="@req.IdReqInsignia" class="btn btn-sm btn-warning">Editar</a>
                                            <a asp-controller="ReqInsignias" asp-action="Details" asp-route-id="@req.IdReqInsignia" class="btn btn-sm btn-info">Detalles</a>
                                            <a asp-controller="ReqInsignias" asp-action="Delete" asp-route-id="@req.IdReqInsignia" class="btn btn-sm btn-danger">Eliminar</a>
                                        </td>
                                    </tr>
                                }
                            }
                            else
                            {
                                <tr>
                                    <td colspan="2" class="text-center text-muted">No hay requisitos registrados para esta insignia.</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                    <div class="text-center">
                        <a asp-controller="ReqInsignias" asp-action="Create" asp-route-id="@Model.IdInsignia" class="btn btn-outline-primary">
                            <i data-feather="plus-circle" class="me-2"></i>Agregar Nuevo Requisito
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Botones -->


<!-- Sidebar -->
<div class="customizer-links" id="setdata">
    <ul class="sticky-sidebar">
        <li class="sidebar-icons">
            <a href="#" class="navigation-add" data-bs-toggle="tooltip" data-bs-placement="left" title="Configuraciones">
                <i data-feather="settings" class="feather-five"></i>
            </a>
        </li>
    </ul>
</div>

@section Scripts {
    <script>
        feather.replace();
    </script>
}
